<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Haus of Decline</title>

  <link rel="shortcut icon" type="image/x-icon" href="/favicon.jpg" id="favicon">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#000" />

  <meta name="description" content="Haus of Decline is the name of the collective projects of Ms. Alex Hood. This encompasses comics, a podcast, her music, a live series and whatever else she may care to incorporate into this scheme.">
  <meta name="keywords" content="Haus of Decline, Alex Hood, Webcomic, Comic, Online Artist, Podcast, Music, Trans Webcomic, Trans Comic, Gay Webcomic, Trans comic artist, Trans musician, musician, Toronto comic, Toronto webcomic, Dick comic, Dick comics, Penis comic, Penis comics, Toronto, Canada, Body Horror, Rock and Roll, Punk,Hip Hop, Indie Comic, Alex Hodd,Trans punk, trans hip hop, trans rap, trans podcast">

  <meta name="twitter:image" content="https://hausofdecline.ca/assets/thumbnail.jpg">
  <meta name="twitter:image:alt" content="HausOfDecline">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:creator" content="@hausofdecline">
  <meta name="twitter:site" content="@hausofdecline">
  <meta property="twitter:description" content="Haus of Decline is the name of the collective projects of Ms. Alex Hood. This encompasses comics, a podcast, her music, a live series and whatever else she may care to incorporate into this scheme.">

  <meta name="og:image" property="og:image" content="https://hausofdecline.ca/assets/thumbnail.jpg">
  <meta name="og:image:alt" content="HausOfDecline">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://hausofdecline.ca">
  <meta property="og:title" content="Haus of Decline">
  <meta property="og:site_name" content="Haus of Decline">
  <meta property="og:description" content="Haus of Decline is the name of the collective projects of Ms. Alex Hood. This encompasses comics, a podcast, her music, a live series and whatever else she may care to incorporate into this scheme.">


  <link rel="stylesheet" type="text/css" href="/style.css">

  <style type="text/css">


    @import url('https://fonts.googleapis.com/css2?family=Permanent+Marker');


    * {
      --text-color:  var(--dark-color);
      --bg-color: var(--light-color);

      font-family: "Font Of Decline", sans-serif;
      font-weight: bold;
      text-shadow: 0.1px 0.1px 0 #000, -0.1px 0.1px 0 #000, 0.1px -0.1px 0 #000, -0.1px -0.1px 0 #000;
      font-optical-sizing: auto;
    }


    body {
      background: var(--bg-color);
      color: var(--text-color);
      background-image: url("/assets/bg.jpg");
    }

    body.darkmode * {
      --accent-color: var(--light-color);
      --text-color:  var(--light-color);
      --bg-color: var(--dark-color);
      --border-color: var(--light-color);
      color: var(--text-color);
      /*background-image: url("/assets/bg-invered.jpg");*/
    }

    #title {
      padding: 0.5em;
      text-align: center;
      line-height: 0;
    }

    #title:hover {
      opacity: 0.6;
    }

    #title img {
      filter: invert(1) contrast(2);
      max-height: 120px;
      width: auto;
      height: auto;
    }
    .darkmode #title img {
      filter:  contrast(2);

    }

    a, a:visited {
      color: var(--text-color);
    }

    a:hover {
      text-decoration: none;
    }

    header {
      margin-bottom: 1em;
    }

    main {
      margin-top: 4em;
    }


    img.comic {
      max-width: 100%;
      /*max-height: 70vh;*/
      width: auto;
      height: auto;
    }

    .comicContainer {
      margin-top: 2.5em;
      display: flex;
      justify-content: center;
      /*align-items: center;*/
      flex-direction: column;
    }

    #comicTitle {
      padding-left: 1.1em;
      font-size: 1.1em;
      font-weight: normal;
      text-align: left;
      margin-top:  1em;
    }

    .publication {
      font-size: 0.75em;
      font-style: italic;

    }
    nav {
      display: flex;
      justify-content: space-around;
    }


    header, main, footer {
      background: var(--bg-color);
    }

    nav a {
      font-size: 1.25em;
    }

    footer {
      display: flex;
      justify-content: space-between;
      margin: 2em auto;
      max-width: 400px;
      padding: 1em;
      font-size: 1.25em;
    }

    button {
/*      padding: 0.4em 0.75em;
      background: var(--text-color);
      color: var(--bg-color);
      border: 0;
      border-radius: 2px;*/
    }

    input {
      padding: 0.25em;
    }

    .comicControls, .comicControls2 {
      display: flex;
      justify-content: space-around;
      margin:  auto;
      max-width: 320px;
      width: 100%;
    }

    .comicControls2 {
      margin-top: 1em;
      margin-bottom: 1em;
    }

    .comicControls div, .comicControls2 div {
      font-size: 2em;
      cursor: pointer;
      user-select: none
    }

    .disabled {
      user-select: none;
      opacity: 0.25;
      cursor: unset !important;
    }

    .mobileNAV {
      display: none;
      text-align: center;
    }

    .borderimg {
      border: 20px solid transparent;
      border-image: url('/assets/border-image.png') 60 round;
    }


    .searchBar {
      text-align: center;
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 0.5em;
    }

    .searchBarContainer {
      margin: 1em 0;
      margin-bottom: 2em;
    }

    #comicIdSearch {
      border-width: 14px;
      font-size: 1.25em;
    }

    .searchButton {
      background-repeat: no-repeat;
      background-position: center;
      width: 100px;
      height: 50px;
      background-size: 100px;
      border: 0;
      background-image: url('../assets/HausIcons/Search.jpg');
    }

    .searchButton:hover {
      background-image: url('../assets/HausIcons/SearchClick.jpg');
    }

    .searchButton:active {
      background-image: url('../assets/HausIcons/SearchHover.jpg');
    }

    .socials a {
      display: block;
      margin: 0.5em 0;
    }


    @media (max-width:  640px) {

      body {
        background: none;
      }

      .mobileNAV {
        display: block;
      }

      .desktopNAV {
        display: none;
      }


      nav a {
        /*font-size: 0.9em;*/
        display: inline-block;
        margin: 0.1em 0.5em;
      }

      footer {
        font-size: 1em;
      }

      .comicContainer {
        margin-top: 1.5em;
      }

      .publication {
        display: block;
      }
    }


    .musicPlayer {
      display: block;
      margin: auto;

      width: 400px;
      max-width: 87%;
      height: 786px;
      max-height: 80vh;
    }


    article {
      margin-top: 4em;
    }

    h2 {
      margin: 0.5em auto;
      text-align: center;
    }

    #comicGrid {
      display: grid;
      grid-template-columns:  1fr 1fr 1fr;
      column-gap: 0.5em;
      row-gap: 0.5em;
    }

    #comicGrid > * {
      align-self: center;
      justify-self: center;
    }

    @media (max-width: 740px) {
      #comicGrid {
        grid-template-columns: 1fr 1fr;
      }
    }


    @media (max-width: 550px) {
      #comicGrid {
        grid-template-columns: 1fr;
      }
    }


    .comicThumbnail:hover {
      opacity: 0.5;
    }




  </style>

  <link rel="stylesheet" type="text/css" href="/darkstyle.css">

</head>
<body>
  <header>
    <!-- <img id="title" src="/Haus_of_Decline_Long.jpg"> -->
    <h1 id="title">
      <a href="/"><img  src="/assets/Haus_of_Decline_Cropped.jpeg" alt="HAUS OF DECLINE"></a>
    </h1>
    <nav class="desktopNAV">
      <a href="/comics" >Comics</a>
      <a href="/music" >Music</a>
      <a href="/podcast" >Podcast</a>
      <a href="https://hausofdecline.bigcartel.com/" target="_blank" rel="nofollow">Store</a>
      <a href="https://patreon.com/hausofdecline" target="_blank" rel="nofollow">Patreon</a>
    </nav>

    <nav class="mobileNAV">
      <a href="/comics" >Comics</a>
      <a href="/music" >Music</a>
      <a href="/podcast" >Podcast</a>
      <br>
      <a href="https://hausofdecline.bigcartel.com/" target="_blank" rel="nofollow">Store</a>
      <a href="https://patreon.com/hausofdecline" target="_blank" rel="nofollow">Patreon</a>
    </nav>
  </header>

  <main>

    <h2 style="margin-bottom: 0.25em;">Gay Comics</h2>
    <h4 style="text-align: center; margin-bottom: 1em;">(Click to view)</h4>

    <div class="searchBarContainer">
      <div class="searchBar">
        <input id="comicSearch" class="borderimg" placeholder="Keyword search..." style="font-size: 1.1em">
        <button class="searchButton" id="comicSearchButton"></button>
      </div>
      <h3 id="resultsMessage" style="text-align: center;"></h3>
    </div>


    <div id="comicGrid"></div>

  </main>


  <footer>
    <div class="socials">
      <a href="https://hausofdecline.bsky.social" target="_blank" rel="nofollow">bsky</a>
      <a href="https://x.com/hausofdecline" target="_blank" rel="nofollow">twitter</a>
      <a href="https://www.instagram.com/hausofdecline/" target="_blank" rel="nofollow">instagram</a>
      <a href="https://www.youtube.com/@hausofdecline" target="_blank" rel="nofollow">youtube</a>
      <a href="https://discord.gg/twvNwhqNer" target="_blank" rel="nofollow">discord</a>
      <a href="/rss.xml" target="_blank" rel="nofollow">rss</a>
    </div>

    <div style="display: flex; flex-direction: column; justify-content: center;">
      <div><span style="font-size: 1.5em; display: inline-block; transform: translateY(0.15em);">Â©</span> Haus of Decline 2025</div>
      <div style="margin-top: 0.5em;">website by <a href="https://steviep.xyz" target="_blank">steviep</a></div>
    </div>
  </footer>



<script type="module">
  import { $ } from '/$.js'
  import { getComicData } from '/data.js'

  let u = new URL(window.location)
  let requestedSearch = u.searchParams.get('search')

  if (requestedSearch) {
    filterComics(requestedSearch)
  }



  const $comicGrid = $.id('comicGrid')


  async function displayComics(ids=null) {
    const loadedData = await getComicData()

    const filterFn = ids && ids.length ? d => ids.includes(d.id) : () => true

    if (ids && ids.length) $.id('resultsMessage').innerHTML = ids.length + ' comics found'
    $comicGrid.innerHTML = loadedData.reverse().filter(filterFn).map(d => `
      <a class="comicThumbnail" href="/comics/GayComics/view?comic=${d.id}">
        <img src="/comics/GayComics/${d.file_name}" loading="lazy">
      </a>
    `).join('')



  }

  displayComics()


  async function filterComics(searchText) {
    u.searchParams.set('search', searchText)

    if (!searchText) {
      u.searchParams.delete('search')
      window.history.replaceState({}, '', u)
      $.id('resultsMessage').innerHTML = ''
      return displayComics()
    }

    window.history.replaceState({}, '', u)


    const loadedData = await getComicData()

    const searchTextWords = searchText.split(' ')

    const matchingIds = loadedData
      .filter(d => {
        return searchText.split(' ')
          .every(st =>
            d.title.toLowerCase().split(' ').includes(st.toLowerCase())
            || d.description.toLowerCase().split(' ').includes(st.toLowerCase())
          )
      })
      .map(d => d.id)


    if (matchingIds.length) displayComics(matchingIds)
    else {
      $comicGrid.innerHTML = ''
      $.id('resultsMessage').innerHTML = 'No comics found'
    }

  }


  $.id('comicSearch').onkeydown = e => {
    if (e.key === 'Enter') {
      filterComics(e.target.value)
    }
  }

  $.id('comicSearchButton').onclick = () => {
    filterComics($.id('comicSearch').value)
  }




</script>
</body>
</html>